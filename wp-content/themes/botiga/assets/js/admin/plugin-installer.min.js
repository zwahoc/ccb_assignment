"use strict";!function(l){var t=window.botigaPluginInstaller||{},t={installButtonSelector:".botiga-install-plugin",init:function(){this.events()},events:function(){var e=this;l(document).on("click",e.installButtonSelector,function(t){t.preventDefault();var n="external"===l(this).data("type")?"external":"wporg",i=l(this).data("plugin-name"),t=l(this).data("redirect-to");"external"==n&&(n=l(this).data("plugin-url"),e.installExternalPlugin(l(this),n,i,t))})},installExternalPlugin:function(n,t,i,e){i={action:"botiga_install_external_plugin",url:t,plugin_name:i,nonce:botigaPluginInstallerConfig.nonce};n.text(botigaPluginInstallerConfig.i18n.installingText),l.post(ajaxurl,i,function(t){return t.success?(n.text(botigaPluginInstallerConfig.i18n.activatingText),void setTimeout(function(){window.location.href=e},1e3)):(n.text(botigaPluginInstallerConfig.i18n.defaultText),void alert(t.data.message))})}};l(document).ready(function(){t.init()})}(jQuery);